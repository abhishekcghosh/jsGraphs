<!doctype html>
<html>
<head>
<style type="text/css">
	body {
		font-family: "Courier New", "Lucida Console", Monotype;
		font-size: 1em;
		background-color: teal;
		color: white;
	}
	.consoleLike {
		margin: 10px;
		border: 2px dotted white;
		background-color: black;
		color: yellow;
		padding: 10px;
		height: 400px;
		width: 80%;
		overflow: scroll;

	}
</style>
	<script type="text/javascript" src="graph.js"></script>
	<script type="text/javascript">
		var xhr, graphData, graph1;
		function getXMLHttp() {
			if (window.XMLHttpRequest) { return new XMLHttpRequest(); } 
			else { return new ActiveXObject("Microsoft.XMLHTTP"); }
		}		
		function writeToConsoles(str) {
			document.getElementById("consoleLike").value += str;
			console.log(str);
		}
		function runGraphTest() {
		 	xhr = getXMLHttp();
		 	xhr.open("GET", "graph1.json", true);
		 	xhr.send(null);
		 	xhr.onreadystatechange = function () {
		 		if (xhr.readyState == 4) {
		 			graphData = JSON.parse(xhr.responseText);
		 			graph1 = new Graph("GRAPH_1");
		 			graph1.createGraphFromJSON(graphData);
		 			writeToConsoles(graph1.displayGraph());
		 			doDFSTests();
		 			
		 		}
		 	}
		}
		function doDFSTests() {
			// do DFS (search 5, from 0, verbose mode)
 			writeToConsoles("\nRunning DFS Test #1 with searchVertex = 5, startFromVertex = 0 in verbose mode.");
 			graphDFS1Result = graph1.depthFirstSearch(5, 0, true);
 			writeToConsoles("\nDFS Complete. Result: " + graphDFS1Result.searchResult);
 			writeToConsoles("\nDFS Run Data:\n " + graphDFS1Result.verboseData);
 			// do DFS (search 7, from 3, verbose mode)
 			writeToConsoles("\nRunning DFS Test #2 with searchVertex = 5, startFromVertex = 0 in verbose mode.");
 			graphDFS1Result = graph1.depthFirstSearch(7, 3, true);
 			writeToConsoles("\nDFS Complete. Result: " + graphDFS1Result.searchResult);
 			writeToConsoles("\nDFS Run Data:\n " + graphDFS1Result.verboseData);
 			// do DFS (search 1, from 5, non verbose mode)
 			writeToConsoles("\nRunning DFS Test #3 with searchVertex = 1, startFromVertex = 5 in non verbose mode.");
 			graphDFS1Result = graph1.depthFirstSearch(1, 5, false);
 			writeToConsoles("\nDFS Complete. Result: " + graphDFS1Result.searchResult);
 			writeToConsoles("\nDFS Run Data:\n " + graphDFS1Result.verboseData);
 			// do DFS (search 9, from 2, non verbose mode)
 			writeToConsoles("\nRunning DFS Test #4 with searchVertex = 9, startFromVertex = 2 in non verbose mode.");
 			graphDFS1Result = graph1.depthFirstSearch(9, 2, false);
 			writeToConsoles("\nDFS Complete. Result: " + graphDFS1Result.searchResult);
 			writeToConsoles("\nDFS Run Data:\n " + graphDFS1Result.verboseData);

		}
		function start() {
			if (window.addEventListener) {
				window.addEventListener("load", runGraphTest);	
			} else {
				window.attachEvent("load", runGraphTest);
			}
		}
		start();		
	</script>
</head>
<body>
	<code>
		<strong>
		Graph Theory + JSON + XMLHttp Experiments in JS</strong><br/>
		Abhishek Ghosh [github.com/abhishekcghosh]<br/>
		-----------------------------------------------<br/>
		Hint: <br/>
		* View Browser Console for more information.<br/>		
		* Enable "Log XMLHttpRequests" for better results.
	</code>
	<br/>
	<textarea class="consoleLike" id="consoleLike">
	</textarea>
</body>
</html>
